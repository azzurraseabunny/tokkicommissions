<!-- Wrapper gives us two layers: shadow (behind) and the button (front) -->
<div class="toggle-wrap">
  <span class="toggle-shadow" aria-hidden="true"></span>
  <button id="theme-toggle" aria-label="Toggle Theme">
    <svg id="bulb-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="21" height="21">
      <path fill="currentColor" d="M9 21h6v-1H9v1zm3-19a7 7 0 0 0-4 12.75V18a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-3.25A7 7 0 0 0 12 2z"/>
    </svg>
  </button>
</div>

<style>
html, body {
  margin: 0;
  padding: 0;
  overflow-x: hidden; /* ✅ No horizontal scrollbar */
}

.toggle-wrap {
  position: fixed;
  top: 1rem;
  right: 1rem;
  width: 45px;   /* 60px → 45px (25% smaller) */
  height: 45px;  /* 60px → 45px */
  z-index: 1000;
  opacity: 0.2;
  transition: opacity 0.3s ease;
}

.toggle-wrap:hover {
  opacity: 1;
}

#theme-toggle,
.toggle-shadow {
  position: absolute;
  inset: 0;
  border-radius: 9px; /* 12px → 9px */
  transition: transform 0.2s ease;
}

.toggle-shadow {
  background: var(--color-shadow);
  transform: translateY(6px); /* 8px → 6px */
  z-index: 0;
}

#theme-toggle {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  user-select: none;
  z-index: 1;
  color: var(--bulb-color);
}

.toggle-wrap:hover #theme-toggle {
  transform: translateY(-3px); /* 4px → 3px */
}

.toggle-wrap:hover .toggle-shadow {
  transform: translateY(9px); /* 12px → 9px */
}
</style>


<script>
const button = document.getElementById("theme-toggle");

// Load saved theme
if (localStorage.getItem("theme")) {
  const savedTheme = localStorage.getItem("theme");
  document.documentElement.setAttribute("data-theme", savedTheme);
} else {
  document.documentElement.setAttribute("data-theme", "dark");
}

button.addEventListener("click", () => {
  let currentTheme = document.documentElement.getAttribute("data-theme");
  let targetTheme = currentTheme === "dark" ? "light" : "dark";
  document.documentElement.setAttribute("data-theme", targetTheme);
  localStorage.setItem("theme", targetTheme);
});
</script>
